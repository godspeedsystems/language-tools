{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Godspeed Config Delaration",
    "description": "A recipe for Godspeed Config.",
    "type": "object",
    "properties": {
      "my_datasource": {
        "$ref": "#/definitions/my_datasource"
      },
      "jwt": {
        "$ref": "#/definitions/jwt"
      },
      "kafka": {
        "$ref": "#/definitions/kafka"
      },
      "client_id":{
        "$ref": "#/definitions/client_id"
      },
      "prisma_secret": {
        "$ref": "#/definitions/prisma_secret"
      },
      "log_level": {
        "$ref": "#/definitions/log_level"
      }
    },
    "additionalProperties": false,
    "definitions": {
      "my_datasource": {
        "type": "object",
        "title": "Datasource Type",
        "description": "As of now godspeed support `api`, `kafka`, `elasticgraph`, `aws` and `redis`",
        "properties": {
          "base_url": {
            "type": "string",
            "default": "MY_DATASOURCE_BASE_URL"
          },
          "api_key": {
            "type":"string",
            "default": "MY_DATASOURCE_API_KEY"
          },
          "api_token": {
            "type": "string",
            "default": "MY_DATASOURCE_API_TOKEN"
          }
        }
      },
      "jwt": {
        "type": "object",
        "properties": {
          "issuer": {
            "type":"string",
            "default": "JWT_ISS"
          },
          "audience": {
            "type": "string",
            "default": "JWT_AUD"
          },
          "secretOrkey":{
            "type": "string",
            "default": "JWT_SECRET"
          }
        }
      },
      "kafka":{
        "type": "object",
        "default": "brokers",
        "properties": {
          "brokers": {
            "type": "object",
            "properties": {
              "__name": {
                "type":"string",
                "default": "KAFKA_BROKERS"
              },
              "__format": {
                "type":"string",
                "default": "json"
              }
            }
          },
          "client_id": {
            "type": "string",
            "default": "KAFKA CLIENT ID"
          }
        },
        "required": ["brokers", "client_id"]
      },
      "client_id":{
        "type":"string",
        "default": "KAFKA_CLIENT_ID"
      },
      "prisma_secret": {
        "type": "string",
        "default": "PRISMA_SECRET"
      },
      "log_level": {
        "type": "object",
        "default": "rohitkoktare",
        "properties": {
          "lang": {
            "type": "string",
            "default": "coffee"
          }
        }
      }
    }
  } 