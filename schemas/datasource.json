{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Godspeed Datasource Delaration",
  "description": "A recipe for Godspeed datasource.",
  "type": "object",
  "properties": {
    "type": {
      "$ref": "#/definitions/type"
    },
    "base_url": {
      "$ref": "#/definitions/base_url"
    },
    "headers": {
      "$ref": "#/definitions/headers"
    },
    "client_id": {
      "$ref": "#/definitions/client_id"
    },
    "brokers": {
      "$ref": "#/definitions/brokers"
    },
    "schema_backend": {
      "$ref": "#/definitions/schema_backend"
    },
    "deep": {
      "$ref": "#/definitions/deep"
    },
    "collect": {
      "$ref": "#/definitions/collect"
    },
    "url": {
      "$ref": "#/definitions/url"
    },
    "common": {
      "$ref": "#/definitions/commom"
    },
    "services": {
      "$ref": "#/definitions/services"
    },
    "loadFn": {
      "$ref": "#/definitions/loadFn"
    },
    "Client_url": {
      "$ref": "#/definitions/Client_url"
    },
    "Client_id": {
      "$ref": "#/definitions/Client_id"
    },
    "executeFn": {
      "$ref": "#/definitions/executeFn"
    }



  },
  "additionalProperties": false,
  "definitions": {
    "type":{
      "type": "string",
      "oneOf": [
        { "const": "api" },
        { "const": "kafka" },
        { "const": "elasticgraph" },
        { "const": "aws" },
        { "const": "redis"},
        {"const": "const", "title": "External Database", "description": "type loadFn: for further assistance"}
      ]
    },
    "base_url":{
      "type": "string",
      "description": "Enter the URL Schema of the Base url",
      "default": "<% config.httpbin.base_url %>"
    },
    "headers": {
        "type": "object",
        "description": "Enter your Header Details Here, Use For API datasource",
        "title": "Header",
        "properties": {
          "name": { "type": "string", "default": "godspeed" },
          "title": { "type": "string" , "default": "<% inputs.headers['title'] %>"}
        }
    },
    "client_id": {
      "type": "string",
      "title": "Client ID",
      "default": "my_service",
      "description": "Enter your Client ID Here, Used for Kafka Datasource"
    },
    "brokers": {
      "type": "string",
      "title": "Brokers",
      "description": "Enter Broker Here Use For Kafka Datasource",
      "default": "[\u0022kafka:9092\u0022]"
    },
    "schema_backend": {
      "type": "string",
      "default": "./eg_config/eg1/"
    },
    "deep": {
      "type": "boolean",
      "default": false
    },
    "collect": {
      "type": "boolean",
      "default": false
    },
    "url": {
      "type": "string",
      "default": "redis[s]://[[username][:password]@][host][:port][/db-number]",
      "title": "URL of Redis Database",
      "description": "Enter Your URL of Redis Database"
    },
    "commom": {
      "type": "object",
      "default": "credentials",
      "properties": {
        "credentials": {
          "type": "object",
          "properties": {
            "accessKeyId": {
              "type": "string",
              "default": "AKIA4KQJJFGY2KPNNOEMmnbv"
            },
            "secretAccessKey": {
              "type": "string",
              "default": "+pf5xyyPSUfBNn0V9ZIH0oPVzARBvxoehR+mpzigcdfg"
            }
          }
        },
        "region": {
          "type": "string",
          "default": "ap-south-1"
        }
      },
      "required": ["credentials"]
    },
    "services": {
      "type": "object",
      "properties": {
        "S3": {
          "type": "object",
          "properties": {
            "config": {
              "type": "string",
              "default": "{}"
            }
          }
        }
      },
      "required": ["S3", "config"]
    },
    "loadFn": {
      "type": "string",
      "title": "loadFn For external Database",
      "description": "This is LoadFn for External Database Type executeFn: for further assistance",
      "default": "com.sample.loader"
    },
    "executeFn": {
      "type": "string",
      "title": "executeFn For external Database",
      "description": "This is executeFn for External Database Type Client_url: for further assistance",
      "default": "com.sample.execute"
    },
    "Client_url": {
      "type": "string",
      "title": "Client_url For external Database",
      "description": "This is Client_url for External Database Type Client_id: for further assistance",
      "default": "https://sample.com"
    },
    "Client_id": {
      "type": "string",
      "title": "Client_id For external Database",
      "description": "This is Client_id for External Database",
      "default": "sample123"
    }



  }
}
